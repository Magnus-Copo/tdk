/* ═══════════════════════════════════════════════════════════════
   PrimarySchoolHero — Board Cards SCSS Module
   Super-modern SASS with nesting, @use, maps, loops, and
   keyframe-driven SVG icon animations.
   ═══════════════════════════════════════════════════════════════ */

@use 'sass:list';
@use 'sass:map';

/* ── Design Tokens ── */
$card-radius: 22px;
$card-padding: 30px 22px;
$icon-size: 52px;
$icon-radius: 16px;

/* Card-specific accent colors (keyed by index) */
$card-accents: (
    0: #3b82f6,
    /* CBSE  — Blue    */
    1: #8b5cf6,
    /* ICSE  — Violet  */
    2: #10b981,
    /* State — Emerald */
    3: #f59e0b,
    /* Gr 10 — Amber   */
);

$card-bgs: (
    0: #eff6ff,
    1: #f5f3ff,
    2: #ecfdf5,
    3: #fffbeb,
);

/* Float amplitudes & durations per card for organic movement */
$float-configs: (
    0: (-8px, 4.5s, 0s),
    1: (-11px, 5.2s, 0.6s),
    2: (-6px, 3.8s, 1.2s),
    3: (-13px, 5.8s, 0.3s),
);

/* ── Keyframes ── */

/* Per-card float — generated via loop */
@each $i, $cfg in $float-configs {
    $amp: list.nth($cfg, 1);

    @keyframes ps-float-#{$i} {

        0%,
        100% {
            transform: translateY(0);
        }

        50% {
            transform: translateY($amp);
        }
    }
}

/* Breathing glow */
@keyframes ps-glow-breathe {

    0%,
    100% {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
    }

    50% {
        box-shadow: 0 10px 32px rgba(0, 0, 0, 0.08);
    }
}

/* Entrance slide-up */
@keyframes ps-card-enter {
    0% {
        opacity: 0;
        transform: translateY(24px) scale(0.92);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Shimmer border sweep */
@keyframes ps-shimmer-sweep {
    0% {
        background-position: -200% center;
    }

    100% {
        background-position: 200% center;
    }
}

/* ── SVG Icon Animations ── */

/* Graduation cap toss (CBSE) */
@keyframes icon-cap-toss {

    0%,
    100% {
        transform: translateY(0) rotate(0deg);
    }

    30% {
        transform: translateY(-6px) rotate(-8deg);
    }

    60% {
        transform: translateY(-3px) rotate(4deg);
    }
}

/* Atom orbit spin (ICSE) */
@keyframes icon-atom-orbit {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

/* Atom pulse (ICSE — core pulse) */
@keyframes icon-atom-pulse {

    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.25);
        opacity: 0.7;
    }
}

/* Landmark shimmer (State Board) */
@keyframes icon-landmark-rise {

    0%,
    100% {
        transform: translateY(0) scale(1);
    }

    50% {
        transform: translateY(-3px) scale(1.04);
    }
}

/* Trophy sparkle (Grade 10) */
@keyframes icon-trophy-bounce {

    0%,
    100% {
        transform: scale(1) rotate(0deg);
    }

    25% {
        transform: scale(1.08) rotate(-4deg);
    }

    50% {
        transform: scale(1.02) rotate(2deg);
    }

    75% {
        transform: scale(1.06) rotate(-2deg);
    }
}

/* Star sparkle particles for trophy */
@keyframes icon-star-particle {
    0% {
        transform: scale(0) rotate(0deg);
        opacity: 0;
    }

    50% {
        transform: scale(1.2) rotate(180deg);
        opacity: 1;
    }

    100% {
        transform: scale(0) rotate(360deg);
        opacity: 0;
    }
}

/* ── Board Card — Base ── */
.boardCard {
    position: relative;
    background: rgba(255, 255, 255, 0.88);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-radius: $card-radius;
    padding: $card-padding;
    text-align: center;
    cursor: default;
    overflow: hidden;
    will-change: transform, box-shadow;
    transition:
        border-color 0.35s ease,
        background 0.35s ease,
        transform 0.35s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    animation:
        ps-glow-breathe 5s ease-in-out infinite;

    /* Shimmer pseudo-border */
    &::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: $card-radius;
        padding: 1.5px;
        background: linear-gradient(135deg,
                transparent 40%,
                rgba(59, 130, 246, 0.35) 50%,
                transparent 60%);
        background-size: 200% 200%;
        mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        mask-composite: exclude;
        -webkit-mask-composite: xor;
        opacity: 0;
        transition: opacity 0.4s ease;
        animation: ps-shimmer-sweep 3s linear infinite;
        pointer-events: none;
    }

    /* ── Hover states ── */
    &:hover {
        background: rgba(255, 255, 255, 0.96);
        animation-play-state: paused;
        transform: translateY(-8px) scale(1.03);

        &::before {
            opacity: 1;
        }
    }
}

/* ── Per-card float variants (generated) ── */
$entrance-delays: (
    0: 0.3s,
    1: 0.45s,
    2: 0.6s,
    3: 0.75s
);

@each $i, $cfg in $float-configs {
    $dur: list.nth($cfg, 2);
    $delay: list.nth($cfg, 3);
    $accent: map.get($card-accents, $i);
    $enter-delay: map.get($entrance-delays, $i);

    .boardCard#{$i} {
        border: 1.5px solid rgba($accent, 0.12);
        animation: ps-card-enter 0.6s cubic-bezier(0.4, 0, 0.2, 1) #{$enter-delay} backwards,
        ps-glow-breathe 5s ease-in-out infinite;

        &:hover {
            border-color: rgba($accent, 0.35);
            box-shadow: 0 16px 44px rgba($accent, 0.2);
        }
    }
}

/* ── Icon Container ── */
.iconWrap {
    width: $icon-size;
    height: $icon-size;
    border-radius: $icon-radius;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 14px;
    position: relative;
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);

    svg {
        width: 26px;
        height: 26px;
        transition: transform 0.4s ease;
    }
}

/* ── Per-icon animations on hover ── */

/* CBSE — Graduation cap toss */
.iconCbse {
    background: map.get($card-bgs, 0);
    color: map.get($card-accents, 0);

    .boardCard:hover & {
        animation: icon-cap-toss 0.9s ease-in-out;
        transform: scale(1.1);
    }
}

/* ICSE — Atom orbit */
.iconIcse {
    background: map.get($card-bgs, 1);
    color: map.get($card-accents, 1);

    .atomOrbit {
        position: absolute;
        inset: -4px;
        border: 1.5px dashed rgba(map.get($card-accents, 1), 0.2);
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .boardCard:hover & {
        transform: scale(1.1);

        .atomOrbit {
            opacity: 1;
            animation: icon-atom-orbit 3s linear infinite;
        }

        svg {
            animation: icon-atom-pulse 1.5s ease-in-out infinite;
        }
    }
}

/* State Board — Landmark rise */
.iconState {
    background: map.get($card-bgs, 2);
    color: map.get($card-accents, 2);

    .boardCard:hover & {
        animation: icon-landmark-rise 1.2s ease-in-out infinite;
        transform: scale(1.08);
    }
}

/* Grade 10 — Trophy bounce + sparkle */
.iconTrophy {
    background: map.get($card-bgs, 3);
    color: map.get($card-accents, 3);

    .sparkle {
        position: absolute;
        width: 6px;
        height: 6px;
        background: map.get($card-accents, 3);
        border-radius: 1px;
        opacity: 0;
        transform: rotate(45deg);

        &:nth-child(2) {
            top: 2px;
            right: 6px;
        }

        &:nth-child(3) {
            top: 6px;
            left: 2px;
        }

        &:nth-child(4) {
            bottom: 4px;
            right: 4px;
        }
    }

    .boardCard:hover & {
        animation: icon-trophy-bounce 1s ease-in-out;
        transform: scale(1.12);

        .sparkle {
            animation: icon-star-particle 1.2s ease-in-out infinite;

            &:nth-child(2) {
                animation-delay: 0.2s;
            }

            &:nth-child(3) {
                animation-delay: 0.5s;
            }

            &:nth-child(4) {
                animation-delay: 0.8s;
            }
        }
    }
}

/* ── Typography ── */
.cardLabel {
    font-family: 'Nunito', sans-serif;
    font-weight: 800;
    font-size: 1.08rem;
    margin: 0;
    line-height: 1.3;
}

@each $i, $accent in $card-accents {
    .cardLabel#{$i} {
        color: $accent;
    }
}

.cardSub {
    font-family: 'Nunito', sans-serif;
    font-size: 0.82rem;
    font-weight: 600;
    color: #64748b;
    margin-top: 4px;
    text-transform: uppercase;
    letter-spacing: 0.06em;
}

/* ── Grid ── */
.boardGrid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px;
}

@media (max-width: 480px) {
    .boardGrid {
        grid-template-columns: 1fr;
    }
}

/* ── Accessibility ── */
@media (prefers-reduced-motion: reduce) {

    .boardCard,
    .boardCard::before,
    .iconWrap,
    .iconWrap svg,
    .atomOrbit,
    .sparkle {
        animation: none !important;
        transition: none !important;
    }
}